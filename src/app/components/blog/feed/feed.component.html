<div *ngIf="!(isLoading$ | async); else loadingTemplate">
  <div class="feed-container" aria-disabled="true" [ngClass]="showPostPreview ? 'inactive' : 'active'">
    <div class="feed-container-label"> My Feed </div>
    <app-search-bar id="search-bar"
                    (enterEvent)="onEnterPressed($event)">
    </app-search-bar>
    <div class="feed-grid" *ngIf="posts$|async; let asyncPostList">
      <div class="feed-grid-item" *ngFor="let post of asyncPostList" (click)="openPostPreview(post)">
        <div class="feed-grid-item-content">
          <a class="post-card">
            <div class="post-card-header">
              <app-avatar class="post-card-avatar" name="{{post.author}}" [ngClass]="'small'"></app-avatar>
              <div class="post-card-author-data">
                <div class="post-card-author-name"> {{post.author}}</div>
                <div class="post-card-blog-id">@{{post.blogId}}</div>
              </div>
              <div class="post-card-publication-time"> 5d </div>
            </div>
            <div class="post-card-content">
              <div class="post-card-title"> {{post.title}}</div>
              {{post.content}}
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="feed-post-preview-modal-container" [hidden]="!showPostPreview">
    <app-feed-post-preview (closeFeedPostPreview)="showPostPreview = false;"> </app-feed-post-preview>
  </div>
</div>

<ng-template #loadingTemplate>
  <div class="feed-container">
    <div id="loading"></div>
  </div>
</ng-template>
